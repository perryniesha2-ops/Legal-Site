<!doctype html>
<html lang='en'>

<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width,initial-scale=1'>
    <title>Contact Support • Scouta</title>
    <link rel='stylesheet' href='./styles.css'>
</head>

<body>
    <header class='site-header'><a href='/' class='brand'><img src='./assets/logo.svg' alt='Scouta logo'
                height='28'><span>Scouta</span></a>
        <nav class='site-nav'><a href='./terms.html'>Terms</a><a href='./privacy.html'>Privacy</a><a
                href='./contact.html' aria-current='page'>Contact</a></nav>
    </header>
    <main class='container'>
        <h1>Contact Support</h1>
        <form id='supportForm' class='card' novalidate><label for='name'>Your Name</label><input id='name' name='name'
                required><label for='email'>Your Email</label><input id='email' name='email' type='email'
                required><label for='subject'>Subject</label><input id='subject' name='subject' required><label
                for='message'>Message</label><textarea id='message' name='message' rows='7' required></textarea><input
                type='text' name='company' id='company' class='hidden' autocomplete='off' tabindex='-1'
                aria-hidden='true' /><button type='submit' id='submitBtn'>Send to Support</button>
            <div id='status' aria-live='polite'></div>
        </form>
    </main>
    <footer class='site-footer'>
        <p>© <span id='y'></span> Scouta • <a href='./terms.html'>Terms</a> • <a href='./privacy.html'>Privacy</a></p>
    </footer>
    <script>document.getElementById('y').textContent = new Date().getFullYear(); const form = document.getElementById('supportForm'); const statusEl = document.getElementById('status'); const btn = document.getElementById('submitBtn'); function setStatus(m, o = true) { statusEl.className = o ? 'success' : 'error'; statusEl.textContent = m; } form.addEventListener('submit', async (e) => { e.preventDefault(); setStatus(''); btn.disabled = true; const data = { name: form.name.value.trim(), email: form.email.value.trim(), subject: form.subject.value.trim(), message: form.message.value.trim(), hp: form.company.value.trim() }; if (!data.name || !data.email || !data.subject || !data.message) { setStatus('Please fill in all required fields.', false); btn.disabled = false; return; } try { const r = await fetch('/api/send-support-email', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) }); const j = await r.json(); if (r.ok) { setStatus('Thanks! Your message has been sent. We’ll reply to your email.'); form.reset(); } else { setStatus(j.error || 'Something went wrong. Please try again.', false); } } catch (err) { setStatus('Network error. Please try again.', false); } finally { btn.disabled = false; } });</script>
</body>

</html>